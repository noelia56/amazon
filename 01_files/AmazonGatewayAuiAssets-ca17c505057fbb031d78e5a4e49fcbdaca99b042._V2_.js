(function(e){var h=window.AmazonUIPageJS||window.P,t=h._namespace||h.attributeErrors,c=t?t("AmazonGatewayAuiAssets"):h;c.guardFatal?c.guardFatal(e)(c,window):c.execute(function(){e(c,window)})})(function(e,h,t){e.when("A").register("sg-jsutil",function(c){var m=c.$;return{safeCall:function(c,k){return m.isFunction(c)?c(k):k}}});e.when("A","load").execute("ah-inst-img-size",function(c){function m(a){if(!a)return null;var b=d(a).attr("src");a=d(a).data("a-hires");return b===a?null:b}function p(a){"object"===
typeof f.ue&&"function"===typeof f.ue.count&&f.ue&&f.ue.count(a,(f.ue.count(a)||0)+1)}function k(a,b){p("gw-img-size-invoke");d.ajax({type:"HEAD",async:!0,url:a,success:function(a,d,f){p("gw-img-size-success");c.trigger(b,parseInt(f.getResponseHeader("Content-Length"),10))},error:function(a,b,d){p("gw-img-size-error")}})}function l(a,b){0<a.length&&(u[b]={count:a.length,totalSize:0,images:a},d(u[b].images).each(function(a,d){var g=b+"_"+a;c.on(g,function(a){isNaN(a)||(--u[b].count,u[b].totalSize+=
a,0===u[b].count&&f.ue&&f.ue.count(b,u[b].totalSize))});k(d,g)}))}function g(a,b){var d=c.$(a);(d=0>=d.length?null:m(d[0]))&&l([d],b)}function a(a,b){b=b||a.length;var f=[];d(a.slice(0,b)).each(function(a,b){var d=m(b);if(!d)return[];f.push(d)});return f}var d=c.$,f=h,u=[];e.execute("inst-cf-img",function(){p("gw-inst-img");g(".gw-critical-content img","gw-cf-img-size")});e.when("x1").execute("inst-x1-img",function(){e.execute("inst-x1-rec-img",function(){var f=1;d("#gw-content-grid .feed-carousel .feed-carousel-shelf").slice(0,
2).each(function(b,g){if(2>=f){var c="gw-shoveler-img-size-"+f++,m=d(g).find("img");6<=m.length&&(m=a(m,6),l(m,c))}})});e.execute("inst-x1-unrec-img",function(){var d=c.$("#desktop-unrec-col-2 img"),d=a(d);l(d,"gw-dpt-img-size");g("#desktop-unrec-col-3 .image-map-before img","gw-slate-img-size");g("#desktop-unrec-sidekick #dotd-image img","gw-dotd-img-size")})})});e.when("A").register("dombinder",function(c){function m(g,a){var d=0;a=a.split(".");for(var f=a.length;d<f;d++)g=g&&g[a[d]];
return g}function e(g){return k.map(k(g).data("bind").split(","),function(a){a=a.split(":");var d=k.trim(a[0]),f=k.trim(a[1]),c=l[d];if(c)return c.init&&c.init(g,f),function(a){c.update(g,f,a)}})}var k=c.$,l={text:{update:function(c,a,d){k(c).text(m(d,a)||"")}},html:{update:function(c,a,d){k(c).html(m(d,a)||"")}},href:{update:function(c,a,d){k(c).attr("href",m(d,a)||"")}},trimText:{update:function(c,a,d){c=k(c);d=c.text();if(d.length>a){for(var f=a-4;0<=f&&0<"[.,-/#!$%^&*;:{}=-_`~()] ".indexOf(d[f]);)f--;
c.text(d.substring(0,0<=f?f+1:a-3)+"...")}}},value:{update:function(c,a,d){k(c).val(m(d,a)||"")}},visible:{update:function(c,a,d){var f=!1;"!"===a.charAt(0)&&(f=!0,a=a.substring(1));a=!!m(d,a);f!==a?k(c).show():k(c).hide()}},css:{init:function(c,a){var d=k(c),f=d.data("dombcss")||[];f[a]="";d.data("dombcss",f)},update:function(c,a,d){c=k(c);var f=c.data("dombcss"),l=f[a];d=m(d,a);l!==d&&(f[a]=d,l&&c.removeClass(l),d&&c.addClass(d))}},attr:{init:function(c,a){var d=k(c),f=d.data("dombattr")||[];f[a]=
{};d.data("dombattr",f)},update:function(c,a,d){var f=k(c);c=f.data("dombattr");var l=c[a];d=m(d,a);l!==d&&(c[a]=d,l&&k.each(l,function(a,b){f.removeAttr(a)}),d&&k.each(d,function(a,b){f.attr(a,b)}))}}};return{init:function(c){var a={$root:c,bindings:[]};c.find("[data-bind]").each(function(){k.each(e(this),function(d,f){a.bindings.push(f)})});return a},update:function(c,a){k.each(c.bindings,function(d,f){f(a)})}}});e.when("jQuery").register("gwAjax",function(c){return function(m,e){function k(d,
f,c){"object"===typeof h.ue&&"function"===typeof h.ue.count&&(l(e.errorCounter||"gwAjaxError"),e.id&&l("gwAjaxError:"+e.id));"function"===typeof h.ueLogError&&h.ueLogError({logLevel:"WARN",attribution:"gwAjax-"+(e.id||m),message:"gwAjax call failed "+(JSON&&JSON.stringify?JSON.stringify({url:m,"params-data":e.params||e.data}):"")});"function"===typeof a&&a(d,f,c)}function l(a){"object"===typeof h.ue&&"function"===typeof h.ue.count&&h.ue.count(a,(h.ue.count(a)||0)+1)}e=c.extend(!0,{},e);var g=e.success,
a=e.error;e.success=function(a,f,c){a.error?k(a,f,c):"function"===typeof g&&g(a,f,c)};e.error=k;e.data=e.params?e.params:e.data;l("gwAjaxCall");e.ajaxCounter&&l(e.ajaxCounter);return c.ajax(m,e)}});e.when("jQuery","gw-hud-punt").execute("gw-hud-sidekick",function(c){c("#gw-hud-grid").css({display:"none"})});e.when("A","sg-jsutil","a-modal","gw-productdb","productdb-binding-helper","sg-media-builder","gw-sims","gw-popover-data").register("gw-popover",function(c,m,p,k,l,g,
a,d){function f(a,b){h.uet&&h.uet(a,b,{wb:1})}function u(a){if(h.ue&&"function"===typeof h.ue.count)return h.ue.count(a)||0}function v(a){h.ue&&"function"===typeof h.ue.count&&h.ue.count(a,(h.ue.count(a)||0)+1)}function b(a){return a.closest("*[data-sgproduct]").data("sgproduct")}function y(a,b){A[a.asin]&&A[a.asin].isResolved()?E.resetSimData():(A[a.asin]=r.Deferred(),a&&a.asin&&b?E.fetch(a,b,A[a.asin]):A[a.asin].reject())}var r=c.$,x={},A={};if(!r("html").hasClass("a-touch")){m=r('<span style="display: none" />').appendTo("body");
var q=r("#gw-popover-wrapper"),n=new l(k,q),z=p.create(m,{name:"gw-asin-popover",width:"90%","max-width":900,height:590,popoverLabel:d.popoverLabel,closeButton:!1}),E=new a(n),D=r("#gw-quick-look-btn");r("#a-page").delegate("li[data-sgproduct]","mouseenter",function(a){r(a.currentTarget).append(D);r(a.currentTarget).find("[title]").removeAttr("title");D.addClass("active")});D.mouseenter(function(){var a=r(this),n=b(a),a=a.siblings().children("a").attr("href");y(n,a)});r(".bestsellers .listRow a").mouseenter(function(){var a=
r(this),n=b(a),a=a.attr("href");y(n,a);!n||!n.asin||x[n.asin]&&x[n.asin].isResolved()||!(a=k.get(n.asin))||(x[n.asin]=r.Deferred(),x[n.asin].resolve(a))});e.when("gwAjax").execute(function(a){var b={};r("#a-page").delegate(".fresh-shoveler li[data-sgproduct]","mouseenter mousemove",function(n){n=r(n.currentTarget);var d=n.data("sgproduct").asin;if(!x[d]||!x[d].isResolved()){var q=[];n.add(n.prev("li[data-sgproduct]")).add(n.next("li[data-sgproduct]")).each(function(){var a=r(this).data("sgproduct");
if(a&&a.asin){var n=k.get(a.asin),d=(n=!(!b[a.asin]&&n&&n.loading))&&1500<c.now()-b[a.asin];if(!n||d)q.push(a.asin),b[a.asin]=c.now()}});x[d]=r.Deferred();q.length?(a("/gp/gw/ajax/pdb.html",{id:"quicklook-pdb",data:{swn:"productdb-ajax",sa:'{"asins": ["'+q.join('","')+'"]}',oe:'{"isDesktop":1,"isTablet":0,"isMobile":0}',rrid:h.ue_id}}).done(function(a){k._add(a);for(var n=0;n<q.length;n++)b[q[n]]=Infinity;x[d].resolve(a)}).fail(x[d].reject),v("freshHoverCount")):x[d].resolve()}})});r("#a-page").delegate("li[data-sgproduct]",
"mouseleave",function(a){D.removeClass("active")});var B="#a-popover-"+z.attrs("id")+" ";p=r.map([".a-popover-header { display: none; }",".a-popover-inner { padding: 0px !important; margin: 0px !important; overflow: hidden !important; height: 100% !important; }"],function(a){return B+a}).join(" ");r("head").append("<style>"+p+"</style>");c.on("a:popover:hide:gw-asin-popover",function(a){h.history.state&&h.history.state.popup&&h.history.back();n.clear()});r(h).bind("popstate",function(){z.hide()});
return{show:function(a,b){v("freshPopOverOn");f("bb","popoverLatency"+u("freshPopOverOn"));h.history&&h.history.pushState&&h.history.pushState({popup:1},"");n.setAsin(a,{beforeUpdate:function(n){if(n.loading)return v("freshPopOverLoading"),n;var d=(new g(n.images[0])).autoCrop().scaleXY(500,400).build(),d={url:b,image:d,actionUrl:{action:"/gp/product/handle-buy-box/"+function(a){return a.substring(a.indexOf("/ref=")+1,a.length)}(b)}};n.reviews&&(d.reviews=r.extend({},n.reviews,{url:b+"#customerReviews"}));
r.when(A[a],x[a]).done(function(b,n){E.showSims(a,b)});A[a].fail(E.setNoSimView);f("cf","popoverLatency"+u("freshPopOverOn"));return r.extend({},n,d)}});z.show()},hide:function(){z.hide()}}}});e.when("A","sg-media-builder","gw-productdb").register("gw-sims",function(c,m,p){var k=c.$;return function(c){function g(a,b){h.uet&&h.uet(a,b,{wb:1})}function a(a){if(h.ue&&"function"===typeof h.ue.count)return h.ue.count(a)||0}function d(a){h.ue&&"function"===typeof h.ue.count&&h.ue.count(a,(h.ue.count(a)||
0)+1)}function f(){if(!B){B=!0;I.hide();w.show();H.animate({height:"100%"},300);var b=0,n=0,d=0,q=parseInt(w.css("width"),10),f=w.find(".sims-img-link");f.each(function(a,f){b+=f.clientWidth;q<b?k(f).hide():(n=b,d+=1)});var c=q-n;0<c&&(c=Math.floor(20+c/d-1),20<c&&f.css({"padding-right":c/2+"px","padding-left":c/2+"px"}));f="popoverLatency"+a("freshPopOverOn");g("be",f);h.uex&&h.uex("ld",f,{wb:1})}}function u(){0===--n&&f()}function v(a,b){var n=k("<a>"),q=k("<div>");n.attr("class","sims-img-link");
q.addClass("sims-img-border");b&&n.addClass("selected");n.click(function(){d("freshPopOverSimsClick");w.find(".sims-img-link").removeClass("selected");k(this).addClass("selected");c.clear();c.setAsin(a.asin,{beforeUpdate:function(b){b=k.extend(!0,{},a);var n=a.url;if(b.loading)d("freshPopOverLoading");else{var q=(new m(b.images[0])).autoCrop().scaleXY(500,400).build(),q={url:n,image:q,actionUrl:{action:"/gp/product/handle-buy-box/"+y(n)}};b.reviews&&(q.reviews=k.extend({},b.reviews,{url:n+"#customerReviews"}));
b=k.extend({},b,q)}return b}})});return n.append(q)}function b(){k.each(z,function(a,b){b.url=b.url.replace(/ref=gw_pdb_pdt-[\d]+/,y(E)+"&gw_sims-"+a)})}function y(a){return 0<=a.indexOf("redirect.html?")?a.replace(/.*redirect.html|(token|location)=.*?&/g,""):a.substring(a.indexOf("/ref=")+1,a.length)}function r(){B=!1;b();var a=[];n=z.length>n?n:z.length;k(z).each(function(b,d){d.loading=!1;if(d.images[0].src){var q=(new m(d.images[0])).autoCrop().scaleXY(130,100).build().src,f=k("<img>");f.attr("src",
q);f.attr("class","sims-img");f.load(u);q=k("<div>");q.attr("class","sims-img-container");var c=k("<div>");c.addClass("sims-img-overlay");k(q).append(c);q.append(f);f=v(d,0===b);f.append(q);a.push(f)}return b<n-1});n=a.length;k(a).each(function(a,b){w.append(b)});setTimeout(f,D)}function x(){e.when("gw-popover").execute(function(a){a.hide()})}function A(){I.hide();H.addClass("hidden");C.bind("click",x)}function q(){w.empty();H.add(I).removeAttr("style");H.removeClass("hidden");C.unbind("click",x);
I.show();w.hide();n=8;z=[]}var n,z,E,D=1E4,B=!1,C=k("#sims-section"),H=C.find(".sims-wrapper"),I=C.find(".sims-loading"),w=C.find(".sims-details");k("#gw-asin-popover");return{fetch:function(b,n,d){g("af","popoverLatency"+a("freshPopOverOn"));q();E=n;b.url=E;z.push(b);n=p.get(b.asin);setTimeout(d.reject,D);n.sims?d.resolve(n.sims):e.when("gwAjax").execute(function(a){a("/gp/gw/ajax/pdb.html",{id:"quicklook-sims-pdb",data:{swn:"productdb-ajax",sa:'{"asins": [], "entityId":"'+b.asin+'","datasetId": "purchase"}',
oe:'{"isDesktop":1,"isTablet":0,"isMobile":0}',rrid:h.ue_id}}).done(function(a){if(a&&a.p&&0<a.p.length){var n=b.asin,q=a.p;q&&(p.get(n).sims||p.addSims(n,q));return d.resolve(a.p)}return d.reject()}).fail(d.reject)});return d},setNoSimView:A,showSims:function(a,b){var n=p.get(a);n.loading?d("freshPopOverSimLoadBeforePrimeAsin"):z=n.sims?k.merge([n],n.sims):k.merge([n],b);4<z.length?r():(d("simsLessThanThreshold"),A())},resetSimData:q,setWaitPeriod:function(a){D=a}}}});e.when("A").execute(function(c){var m=
c.$,p,k;if(!c.$("html").hasClass("a-touch"))if(h.cvox)h.ue&&h.ue.tag&&h.ue.tag("screenReaderOn");else{m("#a-page").delegate("*[data-sgproduct] #gw-quick-look-btn","click",function(c){l(c)});m("#a-page").delegate(".bestseller-list *[data-sgproduct]","click",function(c){l(c)});e.when("gw-popover").execute(function(c){p=c;m("#gw-popover-close").click(function(){p.hide()});k&&p.show.apply(p,k)});var l=function(c){if(!(1<c.which||c.shiftKey||c.altKey||c.metaKey||c.ctrlKey)){var a,d;m(c.target).parents(".bestseller-list").length?
(a=m(c.currentTarget).data("sgproduct"),d=m(c.target).closest("a").attr("href")):(a=m("#gw-quick-look-btn").closest("*[data-sgproduct]").data("sgproduct"),d=m("#gw-quick-look-btn").siblings().children("a").attr("href"));var f=[a.asin,d];a.asin&&d&&(c.preventDefault(),p?p.show.apply(p,f):k=f)}}}});e.when("A","sg-jsutil","dombinder").register("productdb-binding-helper",function(c,m,e){return function(c,l){function g(a,d){e.update(b,f(d.beforeUpdate,a));a.loading||f(d.load,a)}function a(a){d();
v=function(){a(h)};h.pdb_observe(v)}function d(){h&&v&&(h.pdb_unobserve(v),v=null)}var f=m.safeCall,h=null,v=null,b=e.init(l);this.setAsin=function(b,f){f=f||{};d();h=c.get(b);g(h,f);h.loading&&a(function(a){g(a,f)});return h};this.clear=function(){d();h={};e.update(b,h)}}});h.P&&e.when("jQuery","afterLoad").register("gw-resource-logger",function(c){return{instrumentResources:function(m){var e;e=!1;if(c.isArray(m)&&!c.isEmptyObject(m)){e=!0;for(var k=0;k<m.length;k++){var l=m[k];if("id"in l&&"regex"in
l&&"initiator"in l){if(!("string"===typeof l.id&&"string"===typeof l.initiator&&l.regex instanceof RegExp)){e=!1;break}}else{e=!1;break}}}k=h.performance&&"function"===typeof h.performance.getEntriesByType&&"undefined"!==typeof h.performance.getEntriesByType("resource")&&"undefined"!==typeof h.ue;if(e&&k){e=Array(m.length);for(k=0;k<e.length;k++)e[k]=!1;for(l=k=0;l<h.performance.getEntriesByType("resource").length&&k<m.length;l++)for(var g=h.performance.getEntriesByType("resource")[l],a=g.name,d=
g.initiatorType,f=0;f<m.length;f++)if(!e[f]){var u=m[f].regex;if(d===m[f].initiator&&u.test(a)){a=m[f].id;d=g;g=d.duration;h.ue.count&&(h.ue.count(a+":duration",g),h.ue.count(a+":startTime",d.startTime));h.ue.tag&&(d=void 0,d=50>g?a+":cached":a+":notCached",h.ue.tag(d));e[f]=!0;k++;break}}}}}});e.register("sg-media-builder",function(){return function(c){var m=this,e=c.src,k=[];m.build=function(){var m=k.join("_");return{src:e.replace(/\.([^.]+)$/,"._"+m+"_.$1"),alt:c.alt}};m.autoCrop=
function(){k.push("AC");return m};m.scaleX=function(c){k.push("SX"+c);return m};m.scaleY=function(c){k.push("SY"+c);return m};m.upScaleX=function(c){k.push("UX"+c);return m};m.upScaleY=function(c){k.push("UY"+c);return m};m.scaleXY=function(c,g){return m.upScaleX(c).scaleY(g)}}});e.when("A","gwAjax").register("shogunProductDB",function(c,m){function e(g){var a=[];l[g]={loading:!0,pdb_observe:function(d){a.push(d)},pdb_unobserve:function(d){a=c.$.grep(a,function(a){return a!==d})},_trigger:function(){c.$.each(a,
function(){this.call(l[g])})}};return l[g]}function k(g,a){this.ajaxUrl=g;this.experienceStr=a;this._add=function(a){a.p&&c.$.each(a.p,function(a,d){if(d.asin){var g=l[d.asin]||e(d.asin);c.$.extend(g,d,{loading:!1,error:!1});g._trigger(d)}})};this.addSims=function(a,f){if(f){var g=l[a]||e(a);c.$.extend(g,{sims:f});g._trigger(a)}};this._ajax=function(d,f){var k=c.$.extend(!0,{},g,{params:{sa:JSON.stringify(d),oe:a}});h.ue_sid&&(k.url+="/"+h.ue_sid);h.ue_id&&(k.params.rrid=h.ue_id);return m(k.url,{method:k.method,
params:k.params,success:f.success,error:f.error,id:"gw-jslibs-"+f.id})};this.get=function(a){return a in l?l[a]:e(a)}}var l={};return function(c,a){return new k(c,a)}});e.when("jQuery","p-detect").register("component-feed-carousel",function(c,m){var p=c.extend(!0,{},m);c.each({pointerPrefix:function(){return"onmspointerup"in document||"onpointerup"in document?"onpointerup"in document?"pointer":"MSPointer":!1},actionMode:function(){var c=p.capabilities.pointerPrefix;return c?c:p.capabilities.touch?
"touch":"mouse"}},function(c,a){p.capabilities[c]=a()});var k={};c.each({start:{mouse:"down",touch:"start",pointer:"down",MSPointer:"Down"},end:{mouse:"up",touch:"end",pointer:"up",MSPointer:"Up"}},function(c,a){var d=p.capabilities.actionMode,f="string"===typeof a?a:a[d];k[c]=f?d+f:a.mouse===t?"":"mouse"+a.mouse});p.action=k;var l=function(c,a,d){this.init(c,a,d)};l.prototype={init:function(g,a,d){var f=this;c("html").hasClass("a-touch")&&g.addClass("feed-carousel-touch");f.adjustMarginOnChange=
!0;f.defaultCssRightMargin=null;f.minItems=a||10;f.imgClass=".product-image";f.$carousel=g;f.cfMinItems=d||6;f.cfFired=!1;f.shovelerReadyFired=!1;f.slotId=f.getSlotId();f.touch=f.$carousel.hasClass("feed-carousel-touch");f.ajaxSource=f.$carousel.parent().hasClass("ajaxSource");f.$shelf=f.$carousel.find(".feed-carousel-shelf");f.$viewport=f.$carousel.find(".feed-carousel-viewport");f.$spinner=f.$carousel.find(".spinner");f.$left=c(".feed-carousel-control.feed-left",g);f.$right=c(".feed-carousel-control.feed-right",
g);f.$buttons=c(".feed-carousel-control",g);f.$thumb=c(".feed-scrollbar-thumb",g);f.shelfLeft=-1*parseInt(f.$shelf.css("left"),10);f.calcWidth=c("html").hasClass("a-lt-ie9");f.noOpacity=c("html").hasClass("a-lt-ie9");f.$left.attr("aria-hidden",!0);f.$right.attr("aria-hidden",!0);f.bindEvents();f.$carousel.data("Carousel",f);f.$carousel.trigger("change");f.token=!1;f.lock=function(){f.token=!0};f.unlock=function(){f.token=!1};f.locked=function(){return f.token};e.when("gw-first-carousel").execute(function(){f.first=
f.$carousel.hasClass("first-carousel");f.shouldControlsOn()?f.showControls():f.hideControls()})},getSlotId:function(){var g=this.$carousel.closest(".gw-widget-instrument");return 0<g.length?c(g[0]).attr("id"):null},bindEvents:function(){function g(a){return p.capabilities.pointerPrefix&&-1<c.inArray(a.originalEvent.pointerType,[2,"touch"])||"touch"===p.capabilities.actionMode}var a=this,d=c("body");a.$buttons.ready(function(d){a.shovelerReadyFired||(a.slotId&&(d=a.slotId.toString()+"-active",h.GWI&&
h.GWI.recordLatency(d),h.GWI&&h.GWI.register(d)),a.shovelerReadyFired=!0)});a.$carousel.change(function(d){a.updateItems();a.updateSpinner();a.updateShelf();a.updateControls();null===a.defaultCssRightMargin&&a.$shelf.children("li").first()&&(a.defaultCssRightMargin=parseInt(a.$shelf.children("li").first().css("margin-right"),10));a.adjustMarginOnChange&&a.adjustCardMargin()});a.$left.click(function(d){d.preventDefault();a.changePage(-1);a.slotId&&a.logCounter("gw-"+a.slotId.toString()+"-left")});
a.$right.click(function(d){d.preventDefault();a.changePage(1);a.slotId&&a.logCounter("gw-"+a.slotId.toString()+"-right")});a.bindImageLoadEvents(a.$shelf);var f;c(h).resize(function(){clearTimeout(f);f=setTimeout(function(){var d=a.getDimensions(),d=Math.max(Math.min(d.shelfLeft,d.maxLeft),0);a.moveShelf(d)},100)});a.$thumb.mousedown(function(f){var g=f.clientX;1===f.which&&(f.preventDefault(),a.$carousel.addClass("scrolling"),d.bind("mousemove.feed-carousel",function(b){var d=a.getDimensions(),d=
Math.max(Math.min(d.shelfLeft+1/d.pageRatio*(b.clientX-g),d.maxLeft),0);g=b.clientX;a.moveShelf(d)}),c(document).bind("selectstart.feed-carousel",function(){return!1}))});d.add(h).mouseup(function(f){a.$carousel.removeClass("scrolling");a.$carousel.hasClass("hovering")||a.hideControls();d.unbind("mousemove.feed-carousel");c(document).unbind("selectstart.feed-carousel")});a.$carousel.hover(function(){a.$carousel.addClass("hovering");clearTimeout(a.hoverTimer);a.hoverTimer=setTimeout(function(){a.$carousel.hasClass("hovering")&&
!a.$carousel.hasClass("touching")?a.showControls():a.$carousel.removeClass("touching")},300)},function(){a.$carousel.removeClass("hovering touching");clearTimeout(a.hoverTimer);a.$carousel.hasClass("scrolling")||(a.hoverTimer=setTimeout(function(){a.$carousel.hasClass("hovering")||a.hideControls()},600))});a.$carousel.bind(p.action.start,function(d){g(d)&&(a.$carousel.addClass("touching"),clearTimeout(a.touchTimer),a.touchTimer=setTimeout(function(){a.$carousel.removeClass("touching")},5E3))});a.$carousel.bind(p.action.end,
function(d){g(d)&&(a.$carousel.removeClass("touching"),clearTimeout(a.touchTimer),clearTimeout(a.hoverTimer))});a.$viewport.scroll(function(){a.shelfLeft=a.$viewport.scrollLeft();a.updateControls()})},bindImageLoadEvents:function(g){var a=this;c(a.imgClass,g).one("load",function(){a.$carousel.trigger("change")})},getDimensions:function(){var c=this.$shelf.width(),a=this.shelfLeft,d=this.$carousel.width();return{pageWidth:d,shelfWidth:c,shelfLeft:a,pageRatio:d/c,leftRatio:a/c,maxLeft:c-d}},updateItems:function(){var g=
this,a=g.$shelf.find(".feed-carousel-card"),d=function(a){return"none"===a.css("display")};a.each(function(a,m){var k=c(m);if(!d(k))return!0;k.attr("aria-setsize",g.$shelf.find(".feed-carousel-card").size());k.attr("aria-posinset",a+1);k.attr("aria-hidden",!1);k.attr("role","listitem");return 0>=k.find(g.imgClass).filter(function(){return!this.complete}).length?(k.css("display","inline-block"),a+1>=g.cfMinItems&&!g.cfFired&&(g.slotId&&(k=g.slotId.toString()+"-visible",h.GWI&&h.GWI.recordLatency(k),
h.GWI&&h.GWI.register(k)),g.cfFired=!0),!0):!1});g.$items=a.filter(function(){return!d(c(this))})},updateShelf:function(){var g=0;this.calcWidth&&(this.$shelf.children().each(function(){g+=c(this).outerWidth(!0)}),this.$shelf.width(g));this.touch&&this.$carousel.not(".fresh-shoveler-tablet-app .feed-carousel").height(this.$shelf.outerHeight(!0))},updateSpinner:function(){this.size()<this.minItems&&this.ajaxSource?this.$spinner.show():(this.size()<this.minItems&&"object"===typeof h.ue&&"function"===
typeof h.ue.count&&h.ue.count("shovelerNotEnoughItem",(h.ue.count("shovelerNotEnoughItem")||0)+1),this.$spinner.hide())},updateControls:function(){this.updateArrows();this.updateScrollThumb()},shouldControlsOn:function(){return this.first&&!this.touch},showControls:function(c){this.$thumb.add(this.$buttons).stop(!0,!0).fadeIn({duration:300,complete:c,queue:!1})},hideControls:function(c){var a=this.$thumb;this.shouldControlsOn()||(a=a.add(this.$buttons));a.stop(!0,!0).fadeOut({duration:300,complete:c,
queue:!1})},appendCards:function(c){this.$shelf.append(c);this.bindImageLoadEvents(c);this.$carousel.trigger("change")},updateArrows:function(){var g=this,a=g.getDimensions();c.each([{$e:g.$left,enabled:0<a.shelfLeft},{$e:g.$right,enabled:a.shelfLeft<a.maxLeft}],function(a,c){var m=c.$e;c.enabled?m.removeClass("feed-control-disabled"):m.addClass("feed-control-disabled");g.noOpacity&&(c.enabled?m.css("opacity","1"):m.css("opacity","0.5"))})},updateScrollThumb:function(){var g=this.getDimensions(),
a=g.leftRatio*g.pageWidth,g=Math.min(g.pageRatio*g.pageWidth,g.pageWidth);this.$thumb.width(g).each(function(){c(this).animate({left:a},0)})},logCounter:function(c){"object"===typeof h.ue&&"function"===typeof h.ue.count&&(h.ue.count(c,(h.ue.count(c)||0)+1),h.ue.count("gw-shoveler-click",1))},changePage:function(c){var a=this.getDimensions(),d=this.alignWithItem(a.shelfLeft+c*a.pageWidth),d=Math.min(0>c?d.right:d.left,a.maxLeft);this.locked()||(this.lock(),a.shelfLeft===d?(this.bounce(this.$shelf,
-30*c),this.bounce(this.$thumb,6*c)):this.moveShelf(d,400))},moveShelf:function(c,a){function d(){f.updateArrows();f.unlock()}var f=this;a=a||0;f.shelfLeft=c;if(f.touch)f.$viewport.animate({scrollLeft:c},a,"swing",d);else{var m=f.getDimensions(),m=c/m.shelfWidth*m.pageWidth;f.$shelf.animate({left:-c},a,"swing",d);f.$thumb.animate({left:m},a,"swing",function(){f.updateScrollThumb();f.unlock()})}},getItems:function(){return this.$items},size:function(){return this.getItems().length},alignWithItem:function(g){if(0>
g)return{left:0,right:0};var a=this,d=a.getItems(),f=d.map(function(){var d=a.cardPosition(c(this));if(g>=d.left&&g<=d.right)return d}).get(0);return f?f:a.cardPosition(d.last())},cardPosition:function(c){var a=c.position().left;c=a+c.outerWidth(!0);return{left:a,right:c}},bounce:function(g,a){function d(a){var d={};d[f.touch?"left":"marginLeft"]=a;return d}var f=this;g.each(function(){var g=c(this);g.animate(d(a),400,"swing",function(){g.animate(d(0),100,"swing",f.unlock)})})},setCardMargin:function(c){this.$shelf.children("li").first()&&
this.$shelf.children("li").first().css("margin-right")!==c+"px"&&(this.$shelf.children("li").css("margin-right",c+"px"),this.updateShelf())},adjustCardMargin:function(c){c=c===t||null===c?this.defaultCssRightMargin:c;this.setCardMargin(c);var a=this.getDimensions(),a=0>a.maxLeft?Math.ceil(-a.maxLeft/this.size()):c;this.setCardMargin(a<c?c:a)}};return{createCarousel:function(g,a,d){c(g).each(function(f,g){var m=c(g);new l(m,a,d)})}}});e.register("billboard-widget",function(){return function(c,
m){e.when("gwi-util").execute(function(e){function k(){for(var d=0;d<a.length;++d)if(!a[d].complete)return;e.logScope(g.visible);e.logScope(g.active)}m=m||[];var l;l=e.getParent(c);var g=e.gwiData(l),a=[];for(l=0;l<m.length;++l)(function(d){var c=new Image;c.onload=k;c.src=m[d];a[d]=c})(l);k()})}});e.register("gwi-util",function(){return{logScope:function(c){var m=h.GWI;c&&m&&(m.recordLatency(c),m.register(c))},getParent:function(c){return(c=document.getElementById(c))&&c.parentElement},
gwiData:function(c){var m;if(m=c)c=c.getAttribute("data-gwi"),m=h.JSON&&JSON.parse&&JSON.parse(c);return m||{}}}});e.when("A").register("resizeable-inline-video",function(c){function m(c,a){"function"===typeof l.uet&&a&&l.uet(c,a,{wb:1})}function p(c,a){"function"===typeof l.uex&&a&&l.uex(c,a,{wb:1})}var k=c.$,l=h;return function(g,a,d){function f(){D.removeClass("player-uncommenced viewport-loaded").addClass("viewport-loading player-loading");q.css("z-index",1).css("opacity",1);m("tc",
"airyInlineVideoLoadingMonitor");m("tc",d.loadingScope);m("bb","airyInlineVideoPlaybackMonitor");m("bb",d.playbackScope)}function h(a){a=a||{};return{play:a.play||B,stop:a.stop||B,resize:a.resize||B,airyReady:a.airyReady||B}}function v(){return new h({airyReady:function(a){f();C=new y(a);C.play()},stop:function(){var a;a=B;A.removeClass("viewport-loading").addClass("viewport-loaded");q.css("z-index",-1).css("opacity",0);z.length&&n.hide();a()}})}function b(a){return new h({play:function(){C=new y(a);
n.fadeOut(1E3,function(){n.css("display","block");n.css("visibility","hidden");f();C.play()})}})}function y(a){return new h({play:function(){E.removeClass("viewport-loading").addClass("viewport-loaded");D.removeClass("player-loading");m("be","airyInlineVideoLoadingMonitor");m("be",d.loadingScope);p("ld","airyInlineVideoLoadingMonitor");p("ld",d.loadingScope);C=new r(a)}})}function r(a){return new h({stop:function(){C=new x(a);a.pause()}})}function x(a){return new h({})}var A=k(g),q=A.find(".airy-video-container"),
n=A.find(".image-map-before"),z=A.find(".image-map-after"),E=A.find(".airy-video-viewport-in"),D=A.add(E),B=function(){},C;d=d||{};m("bb","airyInlineVideoLoadingMonitor");m("bb",d.loadingScope);C=new function(n){function c(b){function n(a){"object"===typeof l.ue&&"function"===typeof l.ue.count&&l.ue.count(a,(l.ue.count(a)||0)+1)}a.bindings={loadedmetadata:function(a,b){C.airyReady(q);m("cf","airyInlineVideoLoadingMonitor");m("cf",d.loadingScope)},videounsupportederror:function(a,b){n("airyResizableInlineVideoUnsupportedError")},
decodeerror:function(a,b){n("airyResizableInlineVideoDecodeError")},networkerror:function(a,b){n("airyResizableInlineVideoNetworkError")},undefinederror:function(a,b){n("airyResizableInlineVideoUndefinedError")},beganplaying:function(){C.play()},ended:function(){m("af","airyInlineVideoPlaybackMonitor");m("af",d.playbackScope);C.stop()}};var q=b.embed(a);d.autoPlay&&q.play({isAsync:!0})}n=n||{};e.load.js(n.js||"");e.load.css(n.css||"");D.addClass("player-uncommenced");d.whenReady?e.when("Airy","ready").execute(c):
e.when("Airy").execute(c);return new h({airyReady:function(a){C=new b(a);C.play()},play:function(){C=new v}})}(d.airyAssetUrls);(function(){c.on("resize",function(){C.resize()})})()}})});